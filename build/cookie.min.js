!function(t){t[t.HEXADECIMAL=0]="HEXADECIMAL",t[t.BASE_64=1]="BASE_64",t[t.BINARY=2]="BINARY",t[t.OCTAL=3]="OCTAL"}(EncodingMethod=EncodingMethod||{}),function(t){t[t.UPDATE=0]="UPDATE",t[t.DELETE=1]="DELETE",t[t.ADD=2]="ADD"}(MutationType=MutationType||{}),function(t){t[t.STRICT=0]="STRICT",t[t.NONE=1]="NONE",t[t.LAX=2]="LAX"}(SameSite=SameSite||{});var EncodingMethod,MutationType,SameSite,CookieManager=function(){function t(t){var e=this,o=t.encodingMethod,n=t.defaultData,i=t.partitioned,a=t.autoCommit,r=t.storeName,s=t.lifeTime,h=t.onMutate,u=t.sameSite,c=t.autoLoad,d=t.onReady,p=t.domain,_=t.secure,t=t.path;this.partitioned_=!1,this.autoCommit_=!0,this.autoLoad_=!0,this.secure_=!1,this.store_=new Map,this.getSameSite=function(){return e.sameSite_},this.isAutoCommit=function(){return e.autoCommit_},this.isAutoLoad=function(){return e.autoLoad_},this.isSecured=function(){return e.secure_},this.getLifeTime=function(){return e.lifeTime_},this.getStoreName=function(){return e.storeName_},this.getDomain=function(){return e.domain_},this.getData=function(){return e.store_},this.getPath=function(){return e.path_},this.getEncodingMethod=function(){return e.encodingMethod_},this.isPartitioned=function(){return e.partitioned_},this.setEncodingMethod_(void 0===o?EncodingMethod.BASE_64:o),this.store_=n instanceof Map?n:this.store_,this.allowPartitioning_(void 0!==i&&i),this.autoCommit(void 0===a||a),this.setSameSite_(void 0===u?SameSite.LAX:u),this.autoLoad(void 0===c||c),this.setLifeTime_(void 0===s?31536e3:s),this.onMutate(void 0===h?null:h),this.allowSecure_(void 0!==_&&_),this.setDomain_(void 0===p?null:p),this.onReady(void 0===d?null:d),this.setPath_(void 0===t?"/":t),this.setStoreName_(r),this.autoLoad_&&this.load(),"function"==typeof this.onReady_&&this.onReady_(this)}return t.prototype.getSize=function(){return this.store_.size},t.prototype.error_=function(t){throw new Error(t.replace(/[\n\t]/g,""))},t.prototype.clear=function(){this.store_.clear(),this.autoCommit_&&this.removeKey_(this.encodeStore_().name)},t.prototype.commit=function(){var t,e;0<this.store_.size&&(t=(e=this.encodeStore_()).name,e=e.data,this.setConfigs_(t,e,!0))},t.prototype.isKeyDefined_=function(t){return document.cookie.toLowerCase().replace(/ /g,"").includes(t.toLowerCase().replace(/ /g,""))},t.prototype.removeKey_=function(t){document.cookie=document.cookie.replace(new RegExp("\\s*".concat(t,"=?[\\w\\W]*;?"),"gi"),""),document.cookie=document.cookie.trim()},t.prototype.autoLoad=function(t){"boolean"==typeof t?this.autoLoad_=t:this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},t.prototype.autoCommit=function(t){"boolean"==typeof t?this.autoCommit_=t:this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},t.prototype.isValidKeyName_=function(t){if("string"==typeof t&&0<t.trim().length)return!0;this.error_("\n        Invalid cookie's name \n        format. Any cookie's \n        name must be a non-\n        empty string.\n      ")},t.prototype.onMutate=function(t){"function"==typeof t||null===t?this.onMutate_=t:this.error_("\n        Invalid data type. A function \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a callback method. If you \n        want to dissolve any listen \n        on that event, you can \n        pass `null`.\n      ")},t.prototype.onReady=function(t){"function"==typeof t||null===t?this.onReady_=t:this.error_("\n        Invalid data type. A function \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a callback method. If you \n        want to dissolve any listen \n        on that event, you can \n        pass `null`.\n      ")},t.prototype.setStoreName_=function(t){"string"==typeof t&&0<t.trim().length?this.storeName_=t:this.error_("\n        Invalid data type. A string \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a string. It's mandatory to \n        give a store's name.\n      ")},t.prototype.setSameSite_=function(t){t===SameSite.STRICT||t===SameSite.NONE||t===SameSite.LAX?(this.sameSite_=t,this.setConfigs_("SameSite",t,!1)):this.error_("\n        Invalid constant value. \n        The possible values are: \n        `STRICT`, `NONE` \n        and `LAX`.\n      ")},t.prototype.setEncodingMethod_=function(t){t===EncodingMethod.HEXADECIMAL||t===EncodingMethod.BASE_64||t===EncodingMethod.BINARY||t===EncodingMethod.OCTAL?this.encodingMethod_=t:this.error_("\n        Invalid constant value. The \n        possible values are: \n        `HEXADECIMAL`, `BASE_64`, \n        `BINARY` and `OCTAL`.\n      ")},t.prototype.load=function(){var o=this;this.decodeStore_().forEach(function(t,e){o.store_.set(e,t)})},t.prototype.allowPartitioning_=function(t){"boolean"==typeof t?(this.partitioned_=t,this.toggleKey_("Partitioned",t)):this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},t.prototype.allowSecure_=function(t){"boolean"==typeof t?(this.secure_=t,this.toggleKey_("Secure",t)):this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},t.prototype.toggleKey_=function(t,e){this.isKeyDefined_(t)?e||this.removeKey_(t):e&&this.createKey_(t,null,!1)},t.prototype.str2base_=function(t,e){try{return t.split("").map(function(t){return t.charCodeAt(0).toString(e)}).join("_")}catch(t){this.error_("\n        An error occurred during \n        data encoding. Make sure \n        to have no unwanted chars \n        in the passed string.\n      ")}},t.prototype.base2str_=function(t,e){try{return t.split("_").map(function(t){return String.fromCharCode(parseInt(t,e))}).join("")}catch(t){this.error_("\n        An error occurred during \n        data decoding. Make sure \n        to have no unwanted chars \n        within the original input \n        before his encoding.\n      ")}},t.prototype.createKey_=function(t,e,o){var n=null!=e;o?(document.cookie="".concat(t).concat(n?"=".concat(e):"","; ").concat(document.cookie),document.cookie=document.cookie.replace(/;+\s+$/,"")):(document.cookie+=" ".concat(t).concat(n?"=".concat(e):""),document.cookie=document.cookie.trim())},t.prototype.setConfigs_=function(t,e,o){this.isKeyDefined_(t)?(document.cookie=document.cookie.replace(new RegExp("".concat(t,"=(\\w|\\W)+;?"),"gi"),"".concat(t,"=").concat(e,";")),document.cookie=document.cookie.replace(/;+$/,"")):this.createKey_(t,e,o)},t.prototype.base642str_=function(t){try{return window.atob(t.endsWith("_")?t.replace("_","="):t.endsWith("__")?t.replace("__","=="):t)}catch(t){this.error_("\n        An error occurred during \n        data decoding. Make sure \n        to have no unwanted chars \n        within the original input \n        before his encoding.\n      ")}},t.prototype.str2base64_=function(t){try{var e=window.btoa(t);return e.endsWith("=")?e.replace("=","_"):e.endsWith("==")?e.replace("==","__"):e}catch(t){this.error_("\n        An error occurred during \n        data encoding. Make sure \n        to have no unwanted chars \n        in the passed string.\n      ")}},t.prototype.setPath_=function(t){"string"==typeof t&&0<t.trim().length?(this.path_=t,this.setConfigs_("path",t,!1)):null===t?this.removeKey_("path"):this.error_("\n        Invalid data type. A string \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a string. If you want to \n        comeback to the default \n        browser value, you can \n        pass `null`.\n      ")},t.prototype.setDomain_=function(t){"string"==typeof t&&0<t.trim().length?(this.domain_=t,this.setConfigs_("domain",t,!1)):null===t?this.removeKey_("domain"):this.error_("\n        Invalid data type. A string \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a string. If you want to \n        comeback to the default \n        browser value, you can \n        pass `null`.\n      ")},t.prototype.parseStore_=function(t,e){t=this.getValueAt_(t);return"string"==typeof t?new Map(Object.entries(JSON.parse(e(t)))):new Map},t.prototype.has=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0,n=t=t.flat(64);o<n.length;o++){var i=n[o];if(this.isValidKeyName_(i)&&!this.store_.has(i))return!1}return!0},t.prototype.getValueAt_=function(t,e){void 0===e&&(e=null);t=document.cookie.match(new RegExp("".concat(t,"=?[\\w\\W]*;?"),"gi"));return null!=t?!t[0].includes("=")||t[0].split("=")[1].replace(/;+$/,""):e},t.prototype.delete=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var t=t.flat(64),o={type:MutationType.DELETE,ref:this},n=0,i=t;n<i.length;n++){var a,r=i[n];this.isValidKeyName_(r)&&(a=this.store_.get(r),this.store_.delete(r))&&(o[r]=a)}"function"==typeof this.onMutate_&&this.onMutate_(o)},t.prototype.setLifeTime_=function(t){t instanceof Date?(this.lifeTime_=t,this.setConfigs_("expires",t.toUTCString(),!1),this.removeKey_("max-age")):"number"==typeof t?(t=Math.round(t),this.lifeTime_=t,this.setConfigs_("max-age",t,!1),this.removeKey_("expires")):null===t?(this.removeKey_("expires"),this.removeKey_("max-age")):this.error_("\n        Invalid data type. A number \n        or date is required to do \n        this operation. Check the \n        passed value and make sure \n        to have either a string, \n        either a date. If you want \n        to comeback to the default \n        browser value, you can \n        pass `null`.\n      ")},t.prototype.encodeStore_=function(){var t=JSON.stringify(Object.fromEntries(this.store_));return this.encodingMethod_===EncodingMethod.BASE_64?{name:this.str2base64_(this.storeName_),data:this.str2base64_(t)}:this.encodingMethod_===EncodingMethod.BINARY?{name:this.str2base_(this.storeName_,2),data:this.str2base_(t,2)}:this.encodingMethod_===EncodingMethod.OCTAL?{name:this.str2base_(this.storeName_,8),data:this.str2base_(t,8)}:this.encodingMethod_===EncodingMethod.HEXADECIMAL?{name:this.str2base_(this.storeName_,16),data:this.str2base_(t,16)}:{name:this.storeName_,data:t}},t.prototype.decodeStore_=function(){var e=this;return this.encodingMethod_===EncodingMethod.BASE_64?this.parseStore_(this.str2base64_(this.storeName_),function(t){return e.base642str_(t)}):this.encodingMethod_===EncodingMethod.BINARY?this.parseStore_(this.str2base_(this.storeName_,2),function(t){return e.base2str_(t,2)}):this.encodingMethod_===EncodingMethod.OCTAL?this.parseStore_(this.str2base_(this.storeName_,8),function(t){return e.base2str_(t,8)}):this.encodingMethod_===EncodingMethod.HEXADECIMAL?this.parseStore_(this.str2base_(this.storeName_,16),function(t){return e.base2str_(t,16)}):this.parseStore_(this.storeName_,function(t){return t})},t.prototype.get=function(t,e){void 0===e&&(e=null);var o={};if(Array.isArray(t))for(var n=0,i=t;n<i.length;n++){var a=i[n];this.isValidKeyName_(a)&&(this.store_.has(a)?o[a]=this.store_.get(a):o[a]=e)}else if("object"==typeof t)for(var r=0,s=Object.keys(t);r<s.length;r++){a=s[r];this.isValidKeyName_(a)&&(this.store_.has(a)?o[a]=this.store_.get(a):o[a]=t[a])}else this.error_("\n        Invalid argument data type. \n        An array of string(s) or a \n        js object is required for \n        this operation.\n      ");var h=Object.keys(o);return h.length<=0?e:1===h.length?o[h[0]]:o},t.prototype.set=function(t){if(Array.isArray(t)||"object"!=typeof t)this.error_("\n        Invalid argument data type. A \n        javascript object is required \n        for this operation.\n      ");else{for(var e=0,o=Object.keys(t);e<o.length;e++){var n,i,a=o[e];this.isValidKeyName_(a)&&(null!=(n=t[a])?"boolean"==typeof n||"string"==typeof n||"number"==typeof n||"object"==typeof n?(i=this.store_.get(a),this.store_.set(a,n),"function"==typeof this.onMutate_&&(void 0!==i?this.onMutate_({type:MutationType.UPDATE,newValue:n,cookieName:a,ref:this,oldValue:i}):this.onMutate_({type:MutationType.ADD,cookieName:a,ref:this,value:n}))):this.error_("\n                Invalid cookie data type. The \n                supported data types are: int, \n                float, string, boolean, array \n                and js object --\x3e `".concat(a,"`.\n              ")):this.error_("\n              The value of a cookie cannot \n              be `null` or `undefined`. \n              Remove it instead --\x3e `".concat(a,"`.\n            ")))}this.autoCommit_&&this.commit()}},t}();export{EncodingMethod,MutationType,SameSite,CookieManager};// CookieManager v0.0.1 | © CodiTheck organization
