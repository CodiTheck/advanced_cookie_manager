var EncodingMethod,MutationType,SameSite,exports={},CookieManager=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CookieManager=exports.SameSite=exports.MutationType=exports.EncodingMethod=void 0,!function(e){e[e.HEXADECIMAL=0]="HEXADECIMAL",e[e.BASE_64=1]="BASE_64",e[e.BINARY=2]="BINARY",e[e.OCTAL=3]="OCTAL"}(EncodingMethod||(exports.EncodingMethod=EncodingMethod={})),!function(e){e[e.UPDATE=0]="UPDATE",e[e.DELETE=1]="DELETE",e[e.ADD=2]="ADD"}(MutationType||(exports.MutationType=MutationType={})),!function(e){e[e.STRICT=0]="STRICT",e[e.NONE=1]="NONE",e[e.LAX=2]="LAX"}(SameSite||(exports.SameSite=SameSite={})),function(){function e(e){var t=this,o=e.encodingMethod,n=e.defaultData,i=e.partitioned,r=e.autoCommit,a=e.storeName,s=e.lifeTime,h=e.onMutate,u=e.sameSite,c=e.autoLoad,d=e.onReady,p=e.domain,_=e.secure,e=e.path;this.partitioned_=!1,this.autoCommit_=!0,this.autoLoad_=!0,this.secure_=!1,this.store_=new Map,this.getSameSite=function(){return t.sameSite_},this.isAutoCommit=function(){return t.autoCommit_},this.isAutoLoad=function(){return t.autoLoad_},this.isSecured=function(){return t.secure_},this.getLifeTime=function(){return t.lifeTime_},this.getStoreName=function(){return t.storeName_},this.getDomain=function(){return t.domain_},this.getData=function(){return t.store_},this.getPath=function(){return t.path_},this.getEncodingMethod=function(){return t.encodingMethod_},this.isPartitioned=function(){return t.partitioned_},this.setEncodingMethod_(void 0===o?EncodingMethod.BASE_64:o),this.store_=n instanceof Map?n:this.store_,this.allowPartitioning_(void 0!==i&&i),this.autoCommit(void 0===r||r),this.setSameSite_(void 0===u?SameSite.LAX:u),this.autoLoad(void 0===c||c),this.setLifeTime_(void 0===s?31536e3:s),this.onMutate(void 0===h?null:h),this.allowSecure_(void 0!==_&&_),this.setDomain_(void 0===p?null:p),this.onReady(void 0===d?null:d),this.setPath_(void 0===e?"/":e),this.setStoreName_(a),this.autoLoad_&&this.load(),"function"==typeof this.onReady_&&this.onReady_(this)}return e.prototype.getSize=function(){return this.store_.size},e.prototype.error_=function(e){throw new Error(e.replace(/[\n\t]/g,""))},e.prototype.clear=function(){this.store_.clear(),this.autoCommit_&&this.removeKey_(this.encodeStore_().name)},e.prototype.commit=function(){var e,t;0<this.store_.size&&(e=(t=this.encodeStore_()).name,t=t.data,this.setConfigs_(e,t,!0))},e.prototype.isKeyDefined_=function(e){return document.cookie.toLowerCase().replace(/ /g,"").includes(e.toLowerCase().replace(/ /g,""))},e.prototype.removeKey_=function(e){document.cookie=document.cookie.replace(new RegExp("\\s*".concat(e,"=?[\\w\\W]*;?"),"gi"),""),document.cookie=document.cookie.trim()},e.prototype.autoLoad=function(e){"boolean"==typeof e?this.autoLoad_=e:this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},e.prototype.autoCommit=function(e){"boolean"==typeof e?this.autoCommit_=e:this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},e.prototype.isValidKeyName_=function(e){if("string"==typeof e&&0<e.trim().length)return!0;this.error_("\n        Invalid cookie's name \n        format. Any cookie's \n        name must be a non-\n        empty string.\n      ")},e.prototype.onMutate=function(e){"function"==typeof e||null===e?this.onMutate_=e:this.error_("\n        Invalid data type. A function \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a callback method. If you \n        want to dissolve any listen \n        on that event, you can \n        pass `null`.\n      ")},e.prototype.onReady=function(e){"function"==typeof e||null===e?this.onReady_=e:this.error_("\n        Invalid data type. A function \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a callback method. If you \n        want to dissolve any listen \n        on that event, you can \n        pass `null`.\n      ")},e.prototype.setStoreName_=function(e){"string"==typeof e&&0<e.trim().length?this.storeName_=e:this.error_("\n        Invalid data type. A string \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a string. It's mandatory to \n        give a store's name.\n      ")},e.prototype.setSameSite_=function(e){e===SameSite.STRICT||e===SameSite.NONE||e===SameSite.LAX?(this.sameSite_=e,this.setConfigs_("SameSite",e,!1)):this.error_("\n        Invalid constant value. \n        The possible values are: \n        `STRICT`, `NONE` \n        and `LAX`.\n      ")},e.prototype.setEncodingMethod_=function(e){e===EncodingMethod.HEXADECIMAL||e===EncodingMethod.BASE_64||e===EncodingMethod.BINARY||e===EncodingMethod.OCTAL?this.encodingMethod_=e:this.error_("\n        Invalid constant value. The \n        possible values are: \n        `HEXADECIMAL`, `BASE_64`, \n        `BINARY` and `OCTAL`.\n      ")},e.prototype.load=function(){var o=this;this.decodeStore_().forEach(function(e,t){o.store_.set(t,e)})},e.prototype.allowPartitioning_=function(e){"boolean"==typeof e?(this.partitioned_=e,this.toggleKey_("Partitioned",e)):this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},e.prototype.allowSecure_=function(e){"boolean"==typeof e?(this.secure_=e,this.toggleKey_("Secure",e)):this.error_("\n        Invalid data type. A boolean \n        value is required to perform \n        this operation. Check the \n        passed value and make sure \n        to have a boolean value.\n      ")},e.prototype.toggleKey_=function(e,t){this.isKeyDefined_(e)?t||this.removeKey_(e):t&&this.createKey_(e,null,!1)},e.prototype.str2base_=function(e,t){try{return e.split("").map(function(e){return e.charCodeAt(0).toString(t)}).join("_")}catch(e){this.error_("\n        An error occurred during \n        data encoding. Make sure \n        to have no unwanted chars \n        in the passed string.\n      ")}},e.prototype.base2str_=function(e,t){try{return e.split("_").map(function(e){return String.fromCharCode(parseInt(e,t))}).join("")}catch(e){this.error_("\n        An error occurred during \n        data decoding. Make sure \n        to have no unwanted chars \n        within the original input \n        before his encoding.\n      ")}},e.prototype.createKey_=function(e,t,o){var n=null!=t;o?(document.cookie="".concat(e).concat(n?"=".concat(t):"","; ").concat(document.cookie),document.cookie=document.cookie.replace(/;+\s+$/,"")):(document.cookie+=" ".concat(e).concat(n?"=".concat(t):""),document.cookie=document.cookie.trim())},e.prototype.setConfigs_=function(e,t,o){this.isKeyDefined_(e)?(document.cookie=document.cookie.replace(new RegExp("".concat(e,"=(\\w|\\W)+;?"),"gi"),"".concat(e,"=").concat(t,";")),document.cookie=document.cookie.replace(/;+$/,"")):this.createKey_(e,t,o)},e.prototype.base642str_=function(e){try{return window.atob(e.endsWith("_")?e.replace("_","="):e.endsWith("__")?e.replace("__","=="):e)}catch(e){this.error_("\n        An error occurred during \n        data decoding. Make sure \n        to have no unwanted chars \n        within the original input \n        before his encoding.\n      ")}},e.prototype.str2base64_=function(e){try{var t=window.btoa(e);return t.endsWith("=")?t.replace("=","_"):t.endsWith("==")?t.replace("==","__"):t}catch(e){this.error_("\n        An error occurred during \n        data encoding. Make sure \n        to have no unwanted chars \n        in the passed string.\n      ")}},e.prototype.setPath_=function(e){"string"==typeof e&&0<e.trim().length?(this.path_=e,this.setConfigs_("path",e,!1)):null===e?this.removeKey_("path"):this.error_("\n        Invalid data type. A string \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a string. If you want to \n        comeback to the default \n        browser value, you can \n        pass `null`.\n      ")},e.prototype.setDomain_=function(e){"string"==typeof e&&0<e.trim().length?(this.domain_=e,this.setConfigs_("domain",e,!1)):null===e?this.removeKey_("domain"):this.error_("\n        Invalid data type. A string \n        is required to perform this \n        operation. Check the passed \n        value and make sure to have \n        a string. If you want to \n        comeback to the default \n        browser value, you can \n        pass `null`.\n      ")},e.prototype.parseStore_=function(e,t){e=this.getValueAt_(e);return"string"==typeof e?new Map(Object.entries(JSON.parse(t(e)))):new Map},e.prototype.has=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0,n=e=e.flat(64);o<n.length;o++){var i=n[o];if(this.isValidKeyName_(i)&&!this.store_.has(i))return!1}return!0},e.prototype.getValueAt_=function(e,t){void 0===t&&(t=null);e=document.cookie.match(new RegExp("".concat(e,"=?[\\w\\W]*;?"),"gi"));return null!=e?!e[0].includes("=")||e[0].split("=")[1].replace(/;+$/,""):t},e.prototype.delete=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var e=e.flat(64),o={type:MutationType.DELETE,ref:this},n=0,i=e;n<i.length;n++){var r,a=i[n];this.isValidKeyName_(a)&&(r=this.store_.get(a),this.store_.delete(a))&&(o[a]=r)}"function"==typeof this.onMutate_&&this.onMutate_(o)},e.prototype.setLifeTime_=function(e){e instanceof Date?(this.lifeTime_=e,this.setConfigs_("expires",e.toUTCString(),!1),this.removeKey_("max-age")):"number"==typeof e?(e=Math.round(e),this.lifeTime_=e,this.setConfigs_("max-age",e,!1),this.removeKey_("expires")):null===e?(this.removeKey_("expires"),this.removeKey_("max-age")):this.error_("\n        Invalid data type. A number \n        or date is required to do \n        this operation. Check the \n        passed value and make sure \n        to have either a string, \n        either a date. If you want \n        to comeback to the default \n        browser value, you can \n        pass `null`.\n      ")},e.prototype.encodeStore_=function(){var e=JSON.stringify(Object.fromEntries(this.store_));return this.encodingMethod_===EncodingMethod.BASE_64?{name:this.str2base64_(this.storeName_),data:this.str2base64_(e)}:this.encodingMethod_===EncodingMethod.BINARY?{name:this.str2base_(this.storeName_,2),data:this.str2base_(e,2)}:this.encodingMethod_===EncodingMethod.OCTAL?{name:this.str2base_(this.storeName_,8),data:this.str2base_(e,8)}:this.encodingMethod_===EncodingMethod.HEXADECIMAL?{name:this.str2base_(this.storeName_,16),data:this.str2base_(e,16)}:{name:this.storeName_,data:e}},e.prototype.decodeStore_=function(){var t=this;return this.encodingMethod_===EncodingMethod.BASE_64?this.parseStore_(this.str2base64_(this.storeName_),function(e){return t.base642str_(e)}):this.encodingMethod_===EncodingMethod.BINARY?this.parseStore_(this.str2base_(this.storeName_,2),function(e){return t.base2str_(e,2)}):this.encodingMethod_===EncodingMethod.OCTAL?this.parseStore_(this.str2base_(this.storeName_,8),function(e){return t.base2str_(e,8)}):this.encodingMethod_===EncodingMethod.HEXADECIMAL?this.parseStore_(this.str2base_(this.storeName_,16),function(e){return t.base2str_(e,16)}):this.parseStore_(this.storeName_,function(e){return e})},e.prototype.get=function(e,t){void 0===t&&(t=null);var o={};if(Array.isArray(e))for(var n=0,i=e;n<i.length;n++){var r=i[n];this.isValidKeyName_(r)&&(this.store_.has(r)?o[r]=this.store_.get(r):o[r]=t)}else if("object"==typeof e)for(var a=0,s=Object.keys(e);a<s.length;a++){r=s[a];this.isValidKeyName_(r)&&(this.store_.has(r)?o[r]=this.store_.get(r):o[r]=e[r])}else this.error_("\n        Invalid argument data type. \n        An array of string(s) or a \n        js object is required for \n        this operation.\n      ");var h=Object.keys(o);return h.length<=0?t:1===h.length?o[h[0]]:o},e.prototype.set=function(e){if(Array.isArray(e)||"object"!=typeof e)this.error_("\n        Invalid argument data type. A \n        javascript object is required \n        for this operation.\n      ");else{for(var t=0,o=Object.keys(e);t<o.length;t++){var n,i,r=o[t];this.isValidKeyName_(r)&&(null!=(n=e[r])?"boolean"==typeof n||"string"==typeof n||"number"==typeof n||"object"==typeof n?(i=this.store_.get(r),this.store_.set(r,n),"function"==typeof this.onMutate_&&(void 0!==i?this.onMutate_({type:MutationType.UPDATE,newValue:n,cookieName:r,ref:this,oldValue:i}):this.onMutate_({type:MutationType.ADD,cookieName:r,ref:this,value:n}))):this.error_("\n                Invalid cookie data type. The \n                supported data types are: int, \n                float, string, boolean, array \n                and js object --\x3e `".concat(r,"`.\n              ")):this.error_("\n              The value of a cookie cannot \n              be `null` or `undefined`. \n              Remove it instead --\x3e `".concat(r,"`.\n            ")))}this.autoCommit_&&this.commit()}},e}());exports.CookieManager=CookieManager;// CookieManager v0.0.1 | © CodiTheck organization
